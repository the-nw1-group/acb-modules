<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ACB Modules :: ACB-4TC</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>ACB-4TC</h1>
        <p>ACB 4 Turnout Control module</p>

        <p class="view"><a href="https://github.com/the-nw1-group/acb-modules/tree/master/acb-4tc">View stable on master branch <small>the-nw1-group/acb-modules/acb-4tc</small></a></p>
        <p class="view"><a href="https://github.com/the-nw1-group/acb-modules/tree/develop/acb-4tc">View latest on develop branch <small>the-nw1-group/acb-modules/acb-4tc</small></a></p>

      </header>
      <section>
        <h1>
<a id="another-control-bus" class="anchor" href="#another-control-bus" aria-hidden="true"><span class="octicon octicon-link"></span></a>ACB-4TC</h1>

<p>Another Control Bus module to primarily designed to control 4 turnouts. It connects up to 4 servos for controlling
the switches, 4 relays for switching the power at the crossing, and 8 inputs for detecting the switch positions. It
uses an STM32F042K which is a LQFP32 device and is all fitted onto a board 10cm x 5cm.</p>

<h2>
<a id="the-modules" class="anchor" href="#pin-functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pin Functions</h2>

<p>The pin functions are:</p>

<table>
<thead>
<tr>
<th>Pin</th>
<th>Function</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
    <tr>
        <td>1</td>
        <td>VDD</td>
        <td>S</td>
        <td>3.3v power supply</td>
    </tr>
    <tr>
        <td>2</td>
        <td>OSC_IN</td>
        <td>I/O</td>
        <td>8Mhz Oscillator</td>
    </tr>
    <tr>
        <td>3</td>
        <td>OSC_OUT</td>
        <td>I/O</td>
        <td>8Mhz Oscillator</td>
    </tr>
    <tr>
        <td>4</td>
        <td>NRST</td>
        <td>RST</td>
        <td>SWD - RST</td>
    </tr>
    <tr>
        <td>5</td>
        <td>VDDA</td>
        <td>S</td>
        <td>3.3v power supply</td>
    </tr>
    <tr>
        <td>6</td>
        <td>PA0</td>
        <td>I/0</td>
        <td>(IN) Detect 1a</td>
    </tr>
    <tr>
        <td>7</td>
        <td>PA1</td>
        <td>I/0</td>
        <td>(IN) Detect 1b</td>
    </tr>
    <tr>
        <td>8</td>
        <td>PA2</td>
        <td>I/0</td>
        <td>(IN) Detect 2a</td>
    </tr>
    <tr>
        <td>9</td>
        <td>PA3</td>
        <td>I/0</td>
        <td>(IN) Detect 2b</td>
    </tr>
    <tr>
        <td>10</td>
        <td>PA4</td>
        <td>I/0</td>
        <td>(IN) Detect 3a</td>
    </tr>
    <tr>
        <td>11</td>
        <td>PA5</td>
        <td>I/0</td>
        <td>(IN) Detect 3b</td>
    </tr>
    <tr>
        <td>12</td>
        <td>PA6</td>
        <td>I/0</td>
        <td>(IN) Detect 4a</td>
    </tr>
    <tr>
        <td>13</td>
        <td>PA7</td>
        <td>I/0</td>
        <td>(IN) Detect 4b</td>
    </tr>
    <tr>
        <td>14</td>
        <td>PB0</td>
        <td>I/0</td>
        <td>(OUT) Servo 3</td>
    </tr>
    <tr>
        <td>15</td>
        <td>PB1</td>
        <td>I/0</td>
        <td>(OUT) Servo 4</td>
    </tr>
    <tr>
        <td>16</td>
        <td>VSS</td>
        <td>S</td>
        <td>Ground</td>
    </tr>
    <tr>
        <td>17</td>
        <td>VDDIO2</td>
        <td>S</td>
        <td>3.3v power supply</td>
    </tr>
    <tr>
        <td>18</td>
        <td>PA8</td>
        <td>I/0</td>
        <td>(OUT) Relay 1</td>
    </tr>
    <tr>
        <td>19</td>
        <td>PA9</td>
        <td>I/0</td>
        <td>(OUT) Relay 2</td>
    </tr>
    <tr>
        <td>20</td>
        <td>PA10</td>
        <td>I/0</td>
        <td>(OUT) Relay 3</td>
    </tr>
    <tr>
        <td>21</td>
        <td>PA11</td>
        <td>I/0</td>
        <td>(IN) CANRX</td>
    </tr>
    <tr>
        <td>22</td>
        <td>PA12</td>
        <td>I/0</td>
        <td>(OUT) CANTX</td>
    </tr>
    <tr>
        <td>23</td>
        <td>PA13</td>
        <td>I/0</td>
        <td>SWD - SWDIO</td>
    </tr>
    <tr>
        <td>24</td>
        <td>PA14</td>
        <td>I/0</td>
        <td>SWD - SWCLK</td>
    </tr>
    <tr>
        <td>25</td>
        <td>PA15</td>
        <td>I/0</td>
        <td>(OUT) Relay 4</td>
    </tr>
    <tr>
        <td>26</td>
        <td>PB3</td>
        <td>I/0</td>
        <td>(OUT) Servo Power Enable*</td>
    </tr>
    <tr>
        <td>27</td>
        <td>PB4</td>
        <td>I/0</td>
        <td>(OUT) Servo 1</td>
    </tr>
    <tr>
        <td>28</td>
        <td>PB5</td>
        <td>I/0</td>
        <td>(OUT) Servo 2</td>
    </tr>
    <tr>
        <td>29</td>
        <td>PB6</td>
        <td>I/0</td>
        <td>I2C SCL - EEPROM</td>
    </tr>
    <tr>
        <td>30</td>
        <td>PB7</td>
        <td>I/0</td>
        <td>I2C SDA - EEPROM</td>
    </tr>
    <tr>
        <td>31</td>
        <td>PB8</td>
        <td>I/0</td>
        <td>(IN) FLiM Switch</td>
    </tr>
    <tr>
        <td>32</td>
        <td>VSS</td>
        <td>S</td>
        <td>Ground</td>
    </tr>
</tbody>
</table>

<p>* This isn't present on revision 1.0 of the boards</p>

<h2>
<a id="building-and-debugging" class="anchor" href="#notable-ics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other notable ICs</h2>

<p>Other notable IC's on the board</p>

<table>
<thead>
<tr>
<th>Device</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>MCP2562</td>
<td>High-Speed CAN Transceiver</td>
</tr>
<tr>
<td>24AA16</td>
<td>16K I2C Serial EEPROM</td>
</tr>
<tr>
<td>TPS62160</td>
<td>3-17V 1A Step-Down Converter</td>
</tr>
<tr>
<td>SN74LVC2T45</td>
<td>Dual-Bit Dual-Supply Bus Transceiver With Configurable Voltage Translation and 3-State Outputs</td>
</tr>
<tr>
<td>PMGD175XN</td>
<td>30 V, dual N-channel Trench MOSFET</td>
</tr>
</tbody>
</table>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/the-nw1-group">the-nw1-group</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
